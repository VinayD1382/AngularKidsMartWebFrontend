<div class="dashboard-container">
  <h2 class="dashboard-title">Welcome, {{ userEmail }}</h2>

  <div *ngIf="loading" class="loading-msg">
    Loading your orders...
  </div>

  <div *ngIf="!loading && orders.length === 0" class="no-orders">
    <p>No previous orders found.</p>
  </div>

  <div *ngFor="let order of orders" class="order-card">
    <div class="order-header">
      <h3>Order #{{ order.id }}</h3>
      <span class="status" [ngClass]="order.status.toLowerCase()">
        {{ order.status }}
      </span>
    </div>

    <p><strong>Total:</strong> ₹{{ order.totalAmount }}</p>
    <p><strong>Placed On:</strong> {{ order.createdAt | date:'medium' }}</p>

    <h4 class="product-title">Products</h4>
    <table class="product-table">
      <thead>
        <tr>
          <th>Product</th>
          <th>Category</th>
          <th>Price</th>
          <th>Qty</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of order.products">
          <td>{{ p.name }}</td>
          <td>{{ p.category }}</td>
          <td>₹{{ p.price }}</td>
          <td>{{ p.quantity }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
